language: java
jdk:
- oraclejdk7

script:
  - mvn versions:set -DnewVersion=0.9.$TRAVIS_BUILD_NUMBER
  - mvn clean package
  - git config --global user.email "builds@travis-ci.com"
  - git config --global user.name "Travis CI"
  - export GIT_TAG=0.9.$TRAVIS_BUILD_NUMBER
  - git tag $GIT_TAG -a -m "Generated tag from TravisCI for build $TRAVIS_BUILD_NUMBER"
  - git push -q --tags

deploy:
  deploy:
    provider: releases
    user: paul8620
    file: target/pipeline-aggregator-view.hpi
    skip_cleanup: true
    on:
      tags: true
  password:
    secure: tZyzEosBcmeSJ0jxKnEUvVE7jgsZV3HmcaN7lKZUE6esYyYmeX7QzkmWnJ7NCnMcYfMlmMkacklRnuoE8iRiZZycZJvHUUcIAYoxHag3trFIUZZlSeQHndIKuH0Fg96tmH61B6ReYFk7sSQDeAyABYLxfkhGoBmi2pvmkgHJw6OF/ANnnC9BFtCOZVH0w71Fw8eDTYtraMnho1EJpkR/4U/ePox2yrm6QT5lk9hJ/7A7GUhet0gjwt/SeKQXMWxUlGc7eABg4KLrqgUMbTQk9dfWC98frnjL289STkNktKRl2gyeaOZAOyWbx9622ulVcdhl3/PZoHHjw6pDuSJR/WFCN1zJ4oBredvD3xey75JWQMFC8p5Bo5yCphFfSRLtpVLhRx0oV4+gDE9puMj0OShwznuVXmyNg3PGC2BxEFE6XgZHQf5n9NkfU07YXzmtxHX0AElLvh2qokwbIAZL+O/SLymLGYz9YoeQPDdLY4gXbjSUhaLE8VQm8PDupIqv83HZ010LyHdGLvpac0J46z64ECBMUdbY0xKk30xWOyZ4LZhFb1SccJc266tYCKIro1oYGL0qbDWLsyzrHG3AaMgG9P/26cwyEZWAk/RuKjdHX0MkPqitM/dA1f7tvaWHvg92qrsvwkib8cZQzQe7so6VYL/f3oAPj298jmz1aiyqSk=